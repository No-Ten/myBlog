

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/myBlog/img/favicon.png">
  <link rel="icon" href="/myBlog/img/browserTitle.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Ten">
  <meta name="keywords" content="">
  <meta name="description" content="day14-讲师分页 课程列表 课程详情讲师分页查询接口com.atguigu.eduservice.controller.front  controller@RestController @RequestMapping(&quot;&#x2F;eduservice&#x2F;teacherfront&quot;) @CrossOrigin public class TeacherFrontController &amp;#123;">
<meta property="og:type" content="article">
<meta property="og:title" content="day14-讲师分页_课程列表_课程详情">
<meta property="og:url" content="https://no-ten.github.io/day14-%E8%AE%B2%E5%B8%88%E5%88%86%E9%A1%B5_%E8%AF%BE%E7%A8%8B%E5%88%97%E8%A1%A8_%E8%AF%BE%E7%A8%8B%E8%AF%A6%E6%83%85/index.html">
<meta property="og:site_name" content="TBlog">
<meta property="og:description" content="day14-讲师分页 课程列表 课程详情讲师分页查询接口com.atguigu.eduservice.controller.front  controller@RestController @RequestMapping(&quot;&#x2F;eduservice&#x2F;teacherfront&quot;) @CrossOrigin public class TeacherFrontController &amp;#123;">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-01-06T16:16:21.714Z">
<meta property="article:modified_time" content="2022-01-06T16:47:59.195Z">
<meta property="article:author" content="Ten">
<meta property="article:tag" content="project">
<meta name="twitter:card" content="summary_large_image">
  
  <title>day14-讲师分页_课程列表_课程详情 - TBlog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/myBlog/lib/hint/hint.min.css" />

  
    
    
      
      
        
          
          
          
        
        <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css" />
      
      
        <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/plugins/line-numbers/prism-line-numbers.min.css" />
      
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/myBlog/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"no-ten.github.io","root":"/myBlog/","version":"1.8.12","typing":{"enable":true,"typeSpeed":230,"cursorChar":"_","loop":true},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/myBlog/local-search.xml"};
  </script>
  <script  src="/myBlog/js/utils.js" ></script>
  <script  src="/myBlog/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/myBlog/atom.xml" title="TBlog" type="application/atom+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/myBlog/">
      <strong>TBlog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/myBlog/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/myBlog/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/myBlog/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/myBlog/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/myBlog/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/myBlog/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="day14-讲师分页_课程列表_课程详情">
              
            </span>

            
              <div class="mt-3">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-author" aria-hidden="true"></i>
      Ten
    </span>
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-01-07 00:16" pubdate>
        2022年1月7日凌晨12点16分 
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      46k 字
    </span>
  

  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">day14-讲师分页_课程列表_课程详情</h1>
            
            <div class="markdown-body">
              <h1 id="day14-讲师分页-课程列表-课程详情"><a href="#day14-讲师分页-课程列表-课程详情" class="headerlink" title="day14-讲师分页 课程列表 课程详情"></a>day14-讲师分页 课程列表 课程详情</h1><h1 id="讲师分页查询接口"><a href="#讲师分页查询接口" class="headerlink" title="讲师分页查询接口"></a>讲师分页查询接口</h1><p>com.atguigu.eduservice.controller.front </p>
<h2 id="controller"><a href="#controller" class="headerlink" title="controller"></a>controller</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/eduservice/teacherfront"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@CrossOrigin</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TeacherFrontController</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">EduTeacherService</span> teacherService<span class="token punctuation">;</span>

    <span class="token comment">// 分页查询讲师的方法</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"getTeacherFrontList/&#123;page&#125;/&#123;limit&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">getTeacherFrontList</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">long</span> page<span class="token punctuation">,</span><span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">long</span> limit<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> teacherPage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> teacherService<span class="token punctuation">.</span><span class="token function">getTeacherFrontList</span><span class="token punctuation">(</span>teacherPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">EduTeacherService</span> <span class="token keyword">extends</span> <span class="token class-name">IService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>

    <span class="token comment">// 分页查询讲师的方法</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">getTeacherFrontList</span><span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> teacherPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="serviceImpl"><a href="#serviceImpl" class="headerlink" title="serviceImpl"></a>serviceImpl</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EduTeacherServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacherMapper</span><span class="token punctuation">,</span> <span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> <span class="token keyword">implements</span> <span class="token class-name">EduTeacherService</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">// 分页查询讲师的方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">getTeacherFrontList</span><span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> teacherPage<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 按照id降序排序</span>
        wrapper<span class="token punctuation">.</span><span class="token function">orderByDesc</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        baseMapper<span class="token punctuation">.</span><span class="token function">selectPage</span><span class="token punctuation">(</span>teacherPage<span class="token punctuation">,</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> records <span class="token operator">=</span> teacherPage<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> current <span class="token operator">=</span> teacherPage<span class="token punctuation">.</span><span class="token function">getCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> pages <span class="token operator">=</span> teacherPage<span class="token punctuation">.</span><span class="token function">getPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> size <span class="token operator">=</span> teacherPage<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> total <span class="token operator">=</span> teacherPage<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> hasNext <span class="token operator">=</span> teacherPage<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> hasPrevious <span class="token operator">=</span> teacherPage<span class="token punctuation">.</span><span class="token function">hasPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将查询出来的封装到map</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"records"</span><span class="token punctuation">,</span>records<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"current"</span><span class="token punctuation">,</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"pages"</span><span class="token punctuation">,</span>pages<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"size"</span><span class="token punctuation">,</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"total"</span><span class="token punctuation">,</span>total<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"hasNext"</span><span class="token punctuation">,</span>hasNext<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"hasPrevious"</span><span class="token punctuation">,</span>hasPrevious<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 最后返回map</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h1 id="讲师分页查询前端"><a href="#讲师分页查询前端" class="headerlink" title="讲师分页查询前端"></a>讲师分页查询前端</h1><h2 id="1、创建api"><a href="#1、创建api" class="headerlink" title="1、创建api"></a>1、创建api</h2><p>创建文件夹api，api下创建teacher.js，用于封装讲师模块的请求</p>
<div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">request</span> from <span class="token string">'@/utils/request'</span>
export <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 分页查询名师</span>
  <span class="token function">getTeacherList</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span>limit<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      url<span class="token operator">:</span> `<span class="token operator">/</span>eduservice<span class="token operator">/</span>teacherfront<span class="token operator">/</span>getTeacherFrontList<span class="token operator">/</span>$<span class="token punctuation">&#123;</span>page<span class="token punctuation">&#125;</span><span class="token operator">/</span>$<span class="token punctuation">&#123;</span>limit<span class="token punctuation">&#125;</span>`<span class="token punctuation">,</span>
      method<span class="token operator">:</span> <span class="token string">'post'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="2、讲师列表组件中调用api"><a href="#2、讲师列表组件中调用api" class="headerlink" title="2、讲师列表组件中调用api"></a>2、讲师列表组件中调用api</h2><p>pages/teacher/index.vue</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script&gt;
   import teacher from &#39;@&#x2F;api&#x2F;teacher&#39;
 export default &#123;
   &#x2F;&#x2F; 异步调用，调用一次
   &#x2F;&#x2F; params : 相当于之前的this.$route.params.id 等价 params.id
   asyncData(&#123;params,error&#125;)&#123;
     return teacher.getTeacherList(1,8)
      .then(response &#x3D;&gt;&#123;
        &#x2F;&#x2F; console.log(response.data.data)
        return &#123; data:response.data.data &#125;
      &#125;)
   &#125;
 &#125;;
 &lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="页面渲染"><a href="#页面渲染" class="headerlink" title="页面渲染"></a>页面渲染</h2><h3 id="1、无数据提示"><a href="#1、无数据提示" class="headerlink" title="1、无数据提示"></a>1、无数据提示</h3><p>添加：v-if=”data.total==0”</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- &#x2F;无数据提示 开始--&gt;
&lt;section class&#x3D;&quot;no-data-wrap&quot; v-if&#x3D;&quot;data.total &#x3D;&#x3D; 0&quot;&gt;
  &lt;em class&#x3D;&quot;icon30 no-data-ico&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;
  &lt;span class&#x3D;&quot;c-666 fsize14 ml10 vam&quot;&gt;没有相关数据，小编正在努力整理中...&lt;&#x2F;span&gt;
&lt;&#x2F;section&gt;
&lt;!-- &#x2F;无数据提示 结束--&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>



<h3 id="2、列表"><a href="#2、列表" class="headerlink" title="2、列表"></a>2、列表</h3><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;article class&#x3D;&quot;i-teacher-list&quot; v-if&#x3D;&quot;data.total &gt; 0&quot;&gt;
             &lt;ul class&#x3D;&quot;of&quot;&gt;
               &lt;li v-for&#x3D;&quot;item in data.items&quot; :key&#x3D;&quot;item.id&quot;&gt;
                 &lt;section class&#x3D;&quot;i-teach-wrap&quot;&gt;
                   &lt;div class&#x3D;&quot;i-teach-pic&quot;&gt;
                     &lt;a :href&#x3D;&quot;&#39;&#x2F;teacher&#x2F;&#39;+item.id&quot; :title&#x3D;&quot;item.name&quot; target&#x3D;&quot;_blank&quot;&gt;
                       &lt;img :src&#x3D;&quot;item.avatar&quot; alt&gt;
                     &lt;&#x2F;a&gt;
                   &lt;&#x2F;div&gt;
                   &lt;div class&#x3D;&quot;mt10 hLh30 txtOf tac&quot;&gt;
                     &lt;a :href&#x3D;&quot;&#39;&#x2F;teacher&#x2F;&#39;+item.id&quot; title&#x3D;&quot;item.name&quot; target&#x3D;&quot;_blank&quot; class&#x3D;&quot;fsize18 c-666&quot;&gt;&#123;&#123;item.name&#125;&#125;&lt;&#x2F;a&gt;
                   &lt;&#x2F;div&gt;
                   &lt;div class&#x3D;&quot;hLh30 txtOf tac&quot;&gt;
                     &lt;span class&#x3D;&quot;fsize14 c-999&quot;&gt;&#123;&#123;item.career&#125;&#125;&lt;&#x2F;span&gt;
                   &lt;&#x2F;div&gt;
                   &lt;div class&#x3D;&quot;mt15 i-q-txt&quot;&gt;
                     &lt;p class&#x3D;&quot;c-999 f-fA&quot;&gt;&#123;&#123;item.intro&#125;&#125;&lt;&#x2F;p&gt;
                   &lt;&#x2F;div&gt;
                 &lt;&#x2F;section&gt;
               &lt;&#x2F;li&gt;
               
             &lt;&#x2F;ul&gt;
             &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
           &lt;&#x2F;article&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>



<h1 id="讲师分页查询"><a href="#讲师分页查询" class="headerlink" title="讲师分页查询"></a>讲师分页查询</h1><h2 id="1、分页方法"><a href="#1、分页方法" class="headerlink" title="1、分页方法"></a>1、分页方法</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">methods:&#123;
  &#x2F;&#x2F; 分页切换
  &#x2F;&#x2F; 参数是页码数
  gotoPage(page)&#123;
    teacher.getTeacherList(page,8)
     .then(response &#x3D;&gt;&#123;
       this.data &#x3D; response.data.data
     &#125;)
  &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="2、分页页面渲染"><a href="#2、分页页面渲染" class="headerlink" title="2、分页页面渲染"></a>2、分页页面渲染</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 公共分页 开始 --&gt;
          &lt;div&gt;
            &lt;div class&#x3D;&quot;paging&quot;&gt;
              &lt;!-- undisable这个class是否存在，取决于数据属性hasPrevious --&gt;
              &lt;a
                :class&#x3D;&quot;&#123;undisable: !data.hasPrevious&#125;&quot;
                href&#x3D;&quot;#&quot;
                title&#x3D;&quot;首页&quot;
                @click.prevent&#x3D;&quot;gotoPage(1)&quot;&gt;首&lt;&#x2F;a&gt;
              &lt;a
                :class&#x3D;&quot;&#123;undisable: !data.hasPrevious&#125;&quot;
                href&#x3D;&quot;#&quot;
                title&#x3D;&quot;前一页&quot;
                @click.prevent&#x3D;&quot;gotoPage(data.current-1)&quot;&gt;&lt;&lt;&#x2F;a&gt;
              &lt;a
                v-for&#x3D;&quot;page in data.pages&quot;
                :key&#x3D;&quot;page&quot;
                :class&#x3D;&quot;&#123;current: data.current &#x3D;&#x3D; page, undisable: data.current &#x3D;&#x3D; page&#125;&quot;
                :title&#x3D;&quot;&#39;第&#39;+page+&#39;页&#39;&quot;
                href&#x3D;&quot;#&quot;
                @click.prevent&#x3D;&quot;gotoPage(page)&quot;&gt;&#123;&#123; page &#125;&#125;&lt;&#x2F;a&gt;
              &lt;a
                :class&#x3D;&quot;&#123;undisable: !data.hasNext&#125;&quot;
                href&#x3D;&quot;#&quot;
                title&#x3D;&quot;后一页&quot;
                @click.prevent&#x3D;&quot;gotoPage(data.current+1)&quot;&gt;&gt;&lt;&#x2F;a&gt;
              &lt;a
                :class&#x3D;&quot;&#123;undisable: !data.hasNext&#125;&quot;
                href&#x3D;&quot;#&quot;
                title&#x3D;&quot;末页&quot;
                @click.prevent&#x3D;&quot;gotoPage(data.pages)&quot;&gt;末&lt;&#x2F;a&gt;
              &lt;div class&#x3D;&quot;clear&quot;&#x2F;&gt;
            &lt;&#x2F;div&gt;
          &lt;&#x2F;div&gt;
         &lt;!-- 公共分页 结束 --&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h1 id="讲师详情接口"><a href="#讲师详情接口" class="headerlink" title="讲师详情接口"></a>讲师详情接口</h1><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 讲师详情的功能</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"getTeacherFrontInfo/&#123;teacherId&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">getTeacherFrontInfo</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> teacherId<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// 1.根据讲师id查询讲师基本信息</span>
    <span class="token class-name">EduTeacher</span> eduTeacher <span class="token operator">=</span> teacherService<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span>teacherId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.根据讲师id查询讲师所有的课程</span>
    <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduCourse</span><span class="token punctuation">></span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"teacher_id"</span><span class="token punctuation">,</span>teacherId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduCourse</span><span class="token punctuation">></span></span> courseList <span class="token operator">=</span> courseService<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"teacher"</span><span class="token punctuation">,</span>eduTeacher<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"courseList"</span><span class="token punctuation">,</span>courseList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h1 id="讲师详情前端"><a href="#讲师详情前端" class="headerlink" title="讲师详情前端"></a>讲师详情前端</h1><h2 id="1、teacher-api"><a href="#1、teacher-api" class="headerlink" title="1、teacher api"></a>1、teacher api</h2><p>api/teacher.js</p>
<div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 讲师详情</span>
<span class="token function">getTeacherInfo</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/eduservice/teacherfront/getTeacherFrontInfo/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>id<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token string">'get'</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="2、讲师详情页中调用api"><a href="#2、讲师详情页中调用api" class="headerlink" title="2、讲师详情页中调用api"></a>2、讲师详情页中调用api</h2><p>pages/teacher/_id.vue</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script&gt;
  import teacherApi from &#39;@&#x2F;api&#x2F;teacher&#39;
export default &#123;
  &#x2F;&#x2F; 异步调用
  asyncData(&#123;params,error&#125;)&#123;
    &#x2F;&#x2F; params.id获取路由中的id
    return teacherApi.getTeacherInfo(params.id)
     .then(response &#x3D;&gt;&#123;
       return&#123;
         teacher: response.data.data.teacher,
         courseList : response.data.data.courseList
       &#125;
     &#125;)
  &#125;
&#125;;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="讲师详情显示"><a href="#讲师详情显示" class="headerlink" title="讲师详情显示"></a>讲师详情显示</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 讲师基本信息 --&gt;
        &lt;section class&#x3D;&quot;fl t-infor-box c-desc-content&quot;&gt;
          &lt;div class&#x3D;&quot;mt20 ml20&quot;&gt;
            &lt;section class&#x3D;&quot;t-infor-pic&quot;&gt;
              &lt;img :src&#x3D;&quot;teacher.avatar&quot;&gt;
            &lt;&#x2F;section&gt;
            &lt;h3 class&#x3D;&quot;hLh30&quot;&gt;
              &lt;span class&#x3D;&quot;fsize24 c-333&quot;&gt;&#123;&#123;teacher.name&#125;&#125;&amp;nbsp;
                &#123;&#123;teacher.level &#x3D;&#x3D;&#x3D; 1? &#39;高级讲师&#39;:&#39;首席讲师&#39;&#125;&#125;
              &lt;&#x2F;span&gt;
            &lt;&#x2F;h3&gt;
            &lt;section class&#x3D;&quot;mt10&quot;&gt;
              &lt;span class&#x3D;&quot;t-tag-bg&quot;&gt;&#123;&#123;teacher.intro&#125;&#125;&lt;&#x2F;span&gt;
            &lt;&#x2F;section&gt;
            &lt;section class&#x3D;&quot;t-infor-txt&quot;&gt;
              &lt;p
                class&#x3D;&quot;mt20&quot;&gt;&#123;&#123;teacher.career&#125;&#125;&lt;&#x2F;p&gt;
            &lt;&#x2F;section&gt;
            &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
          &lt;&#x2F;div&gt;
        &lt;&#x2F;section&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="无数据提示"><a href="#无数据提示" class="headerlink" title="无数据提示"></a>无数据提示</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- &#x2F;无数据提示 开始--&gt;
&lt;section class&#x3D;&quot;no-data-wrap&quot; v-if&#x3D;&quot;courseList.length &#x3D;&#x3D; 0&quot;&gt;
  &lt;em class&#x3D;&quot;icon30 no-data-ico&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;
  &lt;span class&#x3D;&quot;c-666 fsize14 ml10 vam&quot;&gt;没有相关数据，小编正在努力整理中...&lt;&#x2F;span&gt;
&lt;&#x2F;section&gt;
&lt;!-- &#x2F;无数据提示 结束--&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="当前讲师课程列表"><a href="#当前讲师课程列表" class="headerlink" title="当前讲师课程列表"></a>当前讲师课程列表</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;article class&#x3D;&quot;comm-course-list&quot;&gt;
  &lt;ul class&#x3D;&quot;of&quot;&gt;
    &lt;li v-for&#x3D;&quot;course in courseList&quot; :key&#x3D;&quot;course.id&quot;&gt;
      &lt;div class&#x3D;&quot;cc-l-wrap&quot;&gt;
        &lt;section class&#x3D;&quot;course-img&quot;&gt;
          &lt;img :src&#x3D;&quot;course.cover&quot; class&#x3D;&quot;img-responsive&quot; &gt;
          &lt;div class&#x3D;&quot;cc-mask&quot;&gt;
            &lt;a href&#x3D;&quot;#&quot; title&#x3D;&quot;开始学习&quot; target&#x3D;&quot;_blank&quot; class&#x3D;&quot;comm-btn c-btn-1&quot;&gt;开始学习&lt;&#x2F;a&gt;
          &lt;&#x2F;div&gt;
        &lt;&#x2F;section&gt;
        &lt;h3 class&#x3D;&quot;hLh30 txtOf mt10&quot;&gt;
          &lt;a href&#x3D;&quot;#&quot; :title&#x3D;&quot;course.title&quot; target&#x3D;&quot;_blank&quot; class&#x3D;&quot;course-title fsize18 c-333&quot;&gt;&#123;&#123;course.title&#125;&#125;&lt;&#x2F;a&gt;
        &lt;&#x2F;h3&gt;
      &lt;&#x2F;div&gt;
    &lt;&#x2F;li&gt;
   
  &lt;&#x2F;ul&gt;
  &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
&lt;&#x2F;article&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="完整页面"><a href="#完整页面" class="headerlink" title="完整页面"></a>完整页面</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
   &lt;div id&#x3D;&quot;aCoursesList&quot; class&#x3D;&quot;bg-fa of&quot;&gt;
     &lt;!-- 讲师介绍 开始 --&gt;
     &lt;section class&#x3D;&quot;container&quot;&gt;
       &lt;header class&#x3D;&quot;comm-title&quot;&gt;
         &lt;h2 class&#x3D;&quot;fl tac&quot;&gt;
           &lt;span class&#x3D;&quot;c-333&quot;&gt;讲师介绍&lt;&#x2F;span&gt;
         &lt;&#x2F;h2&gt;
       &lt;&#x2F;header&gt;
       &lt;div class&#x3D;&quot;t-infor-wrap&quot;&gt;
         &lt;!-- 讲师基本信息 --&gt;
         &lt;section class&#x3D;&quot;fl t-infor-box c-desc-content&quot;&gt;
           &lt;div class&#x3D;&quot;mt20 ml20&quot;&gt;
             &lt;section class&#x3D;&quot;t-infor-pic&quot;&gt;
               &lt;img :src&#x3D;&quot;teacher.avatar&quot;&gt;
             &lt;&#x2F;section&gt;
             &lt;h3 class&#x3D;&quot;hLh30&quot;&gt;
               &lt;span class&#x3D;&quot;fsize24 c-333&quot;&gt;&#123;&#123;teacher.name&#125;&#125;&amp;nbsp;
                 &#123;&#123;teacher.level &#x3D;&#x3D;&#x3D; 1? &#39;高级讲师&#39;:&#39;首席讲师&#39;&#125;&#125;
               &lt;&#x2F;span&gt;
             &lt;&#x2F;h3&gt;
             &lt;section class&#x3D;&quot;mt10&quot;&gt;
               &lt;span class&#x3D;&quot;t-tag-bg&quot;&gt;&#123;&#123;teacher.intro&#125;&#125;&lt;&#x2F;span&gt;
             &lt;&#x2F;section&gt;
             &lt;section class&#x3D;&quot;t-infor-txt&quot;&gt;
               &lt;p
                 class&#x3D;&quot;mt20&quot;&gt;&#123;&#123;teacher.career&#125;&#125;&lt;&#x2F;p&gt;
             &lt;&#x2F;section&gt;
             &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
           &lt;&#x2F;div&gt;
         &lt;&#x2F;section&gt;
         &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
       &lt;&#x2F;div&gt;
       &lt;section class&#x3D;&quot;mt30&quot;&gt;
         &lt;div&gt;
           &lt;header class&#x3D;&quot;comm-title all-teacher-title c-course-content&quot;&gt;
             &lt;h2 class&#x3D;&quot;fl tac&quot;&gt;
               &lt;span class&#x3D;&quot;c-333&quot;&gt;主讲课程&lt;&#x2F;span&gt;
             &lt;&#x2F;h2&gt;
             &lt;section class&#x3D;&quot;c-tab-title&quot;&gt;
               &lt;a href&#x3D;&quot;javascript: void(0)&quot;&gt;&amp;nbsp;&lt;&#x2F;a&gt;
             &lt;&#x2F;section&gt;
           &lt;&#x2F;header&gt;
           &lt;!-- &#x2F;无数据提示 开始--&gt;
           &lt;section class&#x3D;&quot;no-data-wrap&quot; v-if&#x3D;&quot;courseList.length &#x3D;&#x3D; 0&quot;&gt;
             &lt;em class&#x3D;&quot;icon30 no-data-ico&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;
             &lt;span class&#x3D;&quot;c-666 fsize14 ml10 vam&quot;&gt;没有相关数据，小编正在努力整理中...&lt;&#x2F;span&gt;
           &lt;&#x2F;section&gt;
           &lt;!-- &#x2F;无数据提示 结束--&gt;
           &lt;article class&#x3D;&quot;comm-course-list&quot;&gt;
             &lt;ul class&#x3D;&quot;of&quot;&gt;
               &lt;li v-for&#x3D;&quot;course in courseList&quot; :key&#x3D;&quot;course.id&quot;&gt;
                 &lt;div class&#x3D;&quot;cc-l-wrap&quot;&gt;
                   &lt;section class&#x3D;&quot;course-img&quot;&gt;
                     &lt;img :src&#x3D;&quot;course.cover&quot; class&#x3D;&quot;img-responsive&quot; &gt;
                     &lt;div class&#x3D;&quot;cc-mask&quot;&gt;
                       &lt;a href&#x3D;&quot;#&quot; title&#x3D;&quot;开始学习&quot; target&#x3D;&quot;_blank&quot; class&#x3D;&quot;comm-btn c-btn-1&quot;&gt;开始学习&lt;&#x2F;a&gt;
                     &lt;&#x2F;div&gt;
                   &lt;&#x2F;section&gt;
                   &lt;h3 class&#x3D;&quot;hLh30 txtOf mt10&quot;&gt;
                     &lt;a href&#x3D;&quot;#&quot; :title&#x3D;&quot;course.title&quot; target&#x3D;&quot;_blank&quot; class&#x3D;&quot;course-title fsize18 c-333&quot;&gt;&#123;&#123;course.title&#125;&#125;&lt;&#x2F;a&gt;
                   &lt;&#x2F;h3&gt;
                 &lt;&#x2F;div&gt;
               &lt;&#x2F;li&gt;
              
             &lt;&#x2F;ul&gt;
             &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
           &lt;&#x2F;article&gt;
         &lt;&#x2F;div&gt;
       &lt;&#x2F;section&gt;
     &lt;&#x2F;section&gt;
     &lt;!-- &#x2F;讲师介绍 结束 --&gt;
   &lt;&#x2F;div&gt;
 &lt;&#x2F;template&gt;
 &lt;script&gt;
   import teacherApi from &#39;@&#x2F;api&#x2F;teacher&#39;
 export default &#123;
   &#x2F;&#x2F; 异步调用
   asyncData(&#123;params,error&#125;)&#123;
     &#x2F;&#x2F; params.id获取路由中的id
     return teacherApi.getTeacherInfo(params.id)
      .then(response &#x3D;&gt;&#123;
        return&#123;
          teacher: response.data.data.teacher,
          courseList : response.data.data.courseList
        &#125;
      &#125;)
   &#125;
 &#125;;
 &lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>



<h1 id="课程列表接口"><a href="#课程列表接口" class="headerlink" title="课程列表接口"></a>课程列表接口</h1><h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><p>com.atguigu.eduservice.controller.front</p>
<div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/eduservice/coursefront"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@CrossOrigin</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CourseFrontController</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">EduCourseService</span> courseService<span class="token punctuation">;</span>

    <span class="token comment">// 条件分页查询课程，前台</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"getCourseFrontList/&#123;page&#125;/&#123;limit&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">getCourseFrontList</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">long</span> page<span class="token punctuation">,</span> <span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">long</span> limit<span class="token punctuation">,</span>
                                <span class="token annotation punctuation">@RequestBody</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">CourseFrontVo</span> courseFrontVo<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduCourse</span><span class="token punctuation">></span></span> coursePage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>page<span class="token punctuation">,</span>limit<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> courseService<span class="token punctuation">.</span><span class="token function">getCourseFrontList</span><span class="token punctuation">(</span>coursePage<span class="token punctuation">,</span>courseFrontVo<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="Service-1"><a href="#Service-1" class="headerlink" title="Service"></a>Service</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 条件分页查询课程，前台</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">getCourseFrontList</span><span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduCourse</span><span class="token punctuation">></span></span> coursePage<span class="token punctuation">,</span> <span class="token class-name">CourseFrontVo</span> courseFrontVo<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div>

<h2 id="serviceImpl-1"><a href="#serviceImpl-1" class="headerlink" title="serviceImpl"></a>serviceImpl</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 条件分页查询课程，前台</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">getCourseFrontList</span><span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduCourse</span><span class="token punctuation">></span></span> coursePage<span class="token punctuation">,</span> <span class="token class-name">CourseFrontVo</span> courseFrontVo<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

    <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduCourse</span><span class="token punctuation">></span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 先判断传过来的值是否为空</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>courseFrontVo<span class="token punctuation">.</span><span class="token function">getSubjectParentId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">// 一级标题</span>
        wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"subject_parent_id"</span><span class="token punctuation">,</span>courseFrontVo<span class="token punctuation">.</span><span class="token function">getSubjectParentId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>courseFrontVo<span class="token punctuation">.</span><span class="token function">getSubjectId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">// 二级标题</span>
        wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"subject_id"</span><span class="token punctuation">,</span>courseFrontVo<span class="token punctuation">.</span><span class="token function">getSubjectId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>courseFrontVo<span class="token punctuation">.</span><span class="token function">getBuyCountSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">// 销售量</span>
        wrapper<span class="token punctuation">.</span><span class="token function">orderByDesc</span><span class="token punctuation">(</span><span class="token string">"buy_count"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>courseFrontVo<span class="token punctuation">.</span><span class="token function">getGmtCreateSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">// 创建时间</span>
        wrapper<span class="token punctuation">.</span><span class="token function">orderByDesc</span><span class="token punctuation">(</span><span class="token string">"gmt_create"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>courseFrontVo<span class="token punctuation">.</span><span class="token function">getPriceSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">// 价格</span>
        wrapper<span class="token punctuation">.</span><span class="token function">orderByDesc</span><span class="token punctuation">(</span><span class="token string">"price"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    baseMapper<span class="token punctuation">.</span><span class="token function">selectPage</span><span class="token punctuation">(</span>coursePage<span class="token punctuation">,</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduCourse</span><span class="token punctuation">></span></span> records <span class="token operator">=</span> coursePage<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> current <span class="token operator">=</span> coursePage<span class="token punctuation">.</span><span class="token function">getCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> pages <span class="token operator">=</span> coursePage<span class="token punctuation">.</span><span class="token function">getPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> size <span class="token operator">=</span> coursePage<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> total <span class="token operator">=</span> coursePage<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> hasNext <span class="token operator">=</span> coursePage<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> hasPrevious <span class="token operator">=</span> coursePage<span class="token punctuation">.</span><span class="token function">hasPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 将查询出来的封装到map</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"items"</span><span class="token punctuation">,</span>records<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"current"</span><span class="token punctuation">,</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"pages"</span><span class="token punctuation">,</span>pages<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"size"</span><span class="token punctuation">,</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"total"</span><span class="token punctuation">,</span>total<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"hasNext"</span><span class="token punctuation">,</span>hasNext<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"hasPrevious"</span><span class="token punctuation">,</span>hasPrevious<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 最后返回map</span>
    <span class="token keyword">return</span> map<span class="token punctuation">;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h1 id="课程列表前端"><a href="#课程列表前端" class="headerlink" title="课程列表前端"></a>课程列表前端</h1><h2 id="1、定义api"><a href="#1、定义api" class="headerlink" title="1、定义api"></a>1、定义api</h2><p>api/course.js</p>
<div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 条件分页查询课程</span>
  <span class="token function">getCourseList</span><span class="token punctuation">(</span><span class="token parameter">page<span class="token punctuation">,</span>limit<span class="token punctuation">,</span>searchObj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/eduservice/coursefront/getCourseFrontList/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>page<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>limit<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      method<span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span>searchObj
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

  <span class="token comment">// 查询所有分类的方法</span>
  <span class="token function">getAllSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/eduservice/subject/findAllSubject</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      method<span class="token operator">:</span> <span class="token string">'get'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>



<h2 id="2、页面调用接口"><a href="#2、页面调用接口" class="headerlink" title="2、页面调用接口"></a>2、页面调用接口</h2><p>pages/course/index.vue</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script&gt;
   import courseApi from &#39;@&#x2F;api&#x2F;course&#39;
 export default &#123;
   data()&#123;
     return&#123;
      page:1,
      data:&#123;&#125;,  &#x2F;&#x2F; 当前页的课程列表
      subjectNestedList: [], &#x2F;&#x2F; 一级分类列表
      subSubjectList: [], &#x2F;&#x2F; 二级分类列表
      searchObj: &#123;&#125;, &#x2F;&#x2F; 查询表单对象
      oneIndex:-1,
      twoIndex:-1,
      buyCountSort:&quot;&quot;,
      gmtCreateSort:&quot;&quot;,
      priceSort:&quot;&quot;
     &#125;
   &#125;,
   created()&#123;
     &#x2F;&#x2F; 初始化课程列表
     this.initCourse()
     &#x2F;&#x2F; 初始化分类
     this.initSubject()
   &#125;,
   methods:&#123;
     &#x2F;&#x2F;1 查询第一页课程
     initCourse()&#123;
       courseApi.getCourseList(1,8,this.searchObj)
        .then(response &#x3D;&gt;&#123;
          this.data &#x3D; response.data.data
        &#125;)
     &#125;,
     &#x2F;&#x2F; 2查询所有一级分类
     initSubject()&#123;
       courseApi.getAllSubject()
        .then(response &#x3D;&gt;&#123;
          this.subjectNestedList &#x3D; response.data.data.list
        &#125;)
     &#125;,
     &#x2F;&#x2F; 3条件分页查询 下一页
     gotoPage(page)&#123;
       courseApi.getCourseList(page,8,this.searchObj)
        .then(response &#x3D;&gt;&#123;
          this.data &#x3D; response.data.data
        &#125;)
     &#125;,
     &#x2F;&#x2F; 4二级分类联动，点击一级分类，显示二级分类
     searchOne(subjectParentId,index)&#123;
      &#x2F;&#x2F; 为了清空排序
      this.buyCountSort &#x3D; &quot;&quot;
      this.gmtCreateSort &#x3D; &quot;&quot;
      this.priceSort &#x3D; &quot;&quot;

       &#x2F;&#x2F; 选中一级分类变色，为了样式能显示
       this.oneIndex &#x3D; index
       this.twoIndex &#x3D; -1
       this.searchObj.subjectId &#x3D;&#39;&#39;
       this.subSubjectList &#x3D; []

       &#x2F;&#x2F; 点击一级分类的时候，把点击的分类的id赋值给searchObj
       this.searchObj.subjectParentId &#x3D; subjectParentId
       &#x2F;&#x2F; 条件分页查询
       this.gotoPage(1)

       &#x2F;&#x2F; 拿着一级分类id和所有一级分类id进行比较
       &#x2F;&#x2F;遍历所有的一级分类
       for(let i &#x3D; 0; i &lt; this.subjectNestedList.length; i++)&#123;
         &#x2F;&#x2F; 取到每一个一级分类
         var oneSubject &#x3D; this.subjectNestedList[i]
         &#x2F;&#x2F; 将传进来的一级分类id和遍历出来的所有一级分类对比
         if(subjectParentId &#x3D;&#x3D; oneSubject.id)&#123;
           &#x2F;&#x2F; 将查询出来的二级分类赋值给subSubjectList
           this.subSubjectList &#x3D; oneSubject.children
         &#125;
       &#125;
     &#125;,
     &#x2F;&#x2F; 5.点击二级分类，显示课程
    searchTwo(subjectId,index)&#123;
      &#x2F;&#x2F; 为了清空排序
      this.buyCountSort &#x3D; &quot;&quot;
      this.gmtCreateSort &#x3D; &quot;&quot;
      this.priceSort &#x3D; &quot;&quot;

      &#x2F;&#x2F; 给index赋值，为了让样式生效
      this.twoIndex &#x3D; index
       &#x2F;&#x2F; 点击二级分类的时候，把点击的分类的id赋值给searchObj
       this.searchObj.subjectId &#x3D; subjectId
       &#x2F;&#x2F; 条件分页查询
      this.gotoPage(1)
    &#125;,
    &#x2F;&#x2F; 6.按照销量排序
    searchBuyCount() &#123;
      this.buyCountSort &#x3D; &quot;1&quot;
      this.gmtCreateSort &#x3D; &quot;&quot;
      this.priceSort &#x3D; &quot;&quot;
      this.searchObj.buyCountSort &#x3D; this.buyCountSort
      this.searchObj.gmtCreateSort &#x3D; this.gmtCreateSort
      this.searchObj.priceSort &#x3D; this.priceSort
      this.gotoPage(1)
    &#125;,
    &#x2F;&#x2F; 7.按照时间排序
    searchGmtCreate()&#123;
      this.buyCountSort &#x3D; &quot;&quot;
      this.gmtCreateSort &#x3D; &quot;1&quot;
      this.priceSort &#x3D; &quot;&quot;
      this.searchObj.buyCountSort &#x3D; this.buyCountSort
      this.searchObj.gmtCreateSort &#x3D; this.gmtCreateSort
      this.searchObj.priceSort &#x3D; this.priceSort
      this.gotoPage(1)
    &#125;,
    &#x2F;&#x2F; 8.按照价格排序
    searchPrice()&#123;
      this.buyCountSort &#x3D; &quot;&quot;
      this.gmtCreateSort &#x3D; &quot;&quot;
      this.priceSort &#x3D; &quot;1&quot;
      this.searchObj.buyCountSort &#x3D; this.buyCountSort
      this.searchObj.gmtCreateSort &#x3D; this.gmtCreateSort
      this.searchObj.priceSort &#x3D; this.priceSort
      this.gotoPage(1)

    &#125;
   &#125;
 &#125;;
 &lt;&#x2F;script&gt;
&#x2F;&#x2F; #bdbdbd;rgba(24, 223, 24, 0.514);rgba(172, 255, 47, 0.493);
 &lt;style scoped&gt;
  .active &#123; 
    background: rgba(24, 223, 24, 0.514);
  &#125;
  .hide &#123;
    display: none;
  &#125;
  .show &#123;
    display: block;
  &#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="3、课程类别显示"><a href="#3、课程类别显示" class="headerlink" title="3、课程类别显示"></a>3、课程类别显示</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;section class&#x3D;&quot;c-s-dl&quot;&gt;
           &lt;dl&gt;
             &lt;dt&gt;
               &lt;span class&#x3D;&quot;c-999 fsize14&quot;&gt;课程类别&lt;&#x2F;span&gt;
             &lt;&#x2F;dt&gt;
             &lt;dd class&#x3D;&quot;c-s-dl-li&quot;&gt;
               &lt;ul class&#x3D;&quot;clearfix&quot;&gt;
                 &lt;li&gt;
                   &lt;a title&#x3D;&quot;全部&quot; href&#x3D;&quot;#&quot;&gt;全部&lt;&#x2F;a&gt;
                 &lt;&#x2F;li&gt;
                 &lt;li v-for&#x3D;&quot;(item,index) in subjectNestedList&quot; :key&#x3D;&quot;index&quot;  :class&#x3D;&quot;&#123;active:oneIndex&#x3D;&#x3D;index&#125;&quot;&gt;
                   &lt;a :title&#x3D;&quot;item.title&quot; href&#x3D;&quot;#&quot; @click&#x3D;&quot;searchOne(item.id,index)&quot; &gt;&#123;&#123;item.title&#125;&#125;&lt;&#x2F;a&gt;
                 &lt;&#x2F;li&gt;
               &lt;&#x2F;ul&gt;
             &lt;&#x2F;dd&gt;
           &lt;&#x2F;dl&gt;
           &lt;dl&gt;
             &lt;dt&gt;
               &lt;span class&#x3D;&quot;c-999 fsize14&quot;&gt;&lt;&#x2F;span&gt;
             &lt;&#x2F;dt&gt;
             &lt;dd class&#x3D;&quot;c-s-dl-li&quot;&gt;
               &lt;ul class&#x3D;&quot;clearfix&quot;&gt;
                 &lt;li v-for&#x3D;&quot;(item,index) in subSubjectList&quot; :key&#x3D;&quot;index&quot; :class&#x3D;&quot;&#123;active:twoIndex&#x3D;&#x3D;index&#125;&quot;&gt;
                   &lt;a :title&#x3D;&quot;item.title&quot; href&#x3D;&quot;#&quot; @click&#x3D;&quot;searchTwo(item.id,index)&quot;&gt;&#123;&#123;item.title&#125;&#125;&lt;&#x2F;a&gt;
                 &lt;&#x2F;li&gt;
                
               &lt;&#x2F;ul&gt;
             &lt;&#x2F;dd&gt;
           &lt;&#x2F;dl&gt;
           &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
         &lt;&#x2F;section&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>



<h2 id="4、排序方式显示"><a href="#4、排序方式显示" class="headerlink" title="4、排序方式显示"></a>4、排序方式显示</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;section class&#x3D;&quot;fl&quot;&gt;
  &lt;ol class&#x3D;&quot;js-tap clearfix&quot;&gt;
     &lt;li :class&#x3D;&quot;&#123;&#39;current bg-orange&#39;:buyCountSort!&#x3D;&#39;&#39;&#125;&quot;&gt;
       &lt;a title&#x3D;&quot;销量&quot; href&#x3D;&quot;javascript:void(0);&quot; @click&#x3D;&quot;searchBuyCount()&quot;&gt;销量
       &lt;span :class&#x3D;&quot;&#123;hide:buyCountSort&#x3D;&#x3D;&#39;&#39;&#125;&quot;&gt;↓&lt;&#x2F;span&gt;
       &lt;&#x2F;a&gt;
     &lt;&#x2F;li&gt;
     &lt;li :class&#x3D;&quot;&#123;&#39;current bg-orange&#39;:gmtCreateSort!&#x3D;&#39;&#39;&#125;&quot;&gt;
       &lt;a title&#x3D;&quot;最新&quot; href&#x3D;&quot;javascript:void(0);&quot; @click&#x3D;&quot;searchGmtCreate()&quot;&gt;最新
       &lt;span :class&#x3D;&quot;&#123;hide:gmtCreateSort&#x3D;&#x3D;&#39;&#39;&#125;&quot;&gt;↓&lt;&#x2F;span&gt;
       &lt;&#x2F;a&gt;
     &lt;&#x2F;li&gt;
     &lt;li :class&#x3D;&quot;&#123;&#39;current bg-orange&#39;:priceSort!&#x3D;&#39;&#39;&#125;&quot;&gt;
       &lt;a title&#x3D;&quot;价格&quot; href&#x3D;&quot;javascript:void(0);&quot; @click&#x3D;&quot;searchPrice()&quot;&gt;价格&amp;nbsp;
         &lt;span :class&#x3D;&quot;&#123;hide:priceSort&#x3D;&#x3D;&#39;&#39;&#125;&quot;&gt;↓&lt;&#x2F;span&gt;
       &lt;&#x2F;a&gt;
     &lt;&#x2F;li&gt;
  &lt;&#x2F;ol&gt;
&lt;&#x2F;section&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="5、无数据提示"><a href="#5、无数据提示" class="headerlink" title="5、无数据提示"></a>5、无数据提示</h2><p>添加：v-if=”data.total==0”</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- &#x2F;无数据提示 开始--&gt;
&lt;section class&#x3D;&quot;no-data-wrap&quot; v-if&#x3D;&quot;data.total &#x3D;&#x3D; 0&quot;&gt;
  &lt;em class&#x3D;&quot;icon30 no-data-ico&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;
  &lt;span class&#x3D;&quot;c-666 fsize14 ml10 vam&quot;&gt;没有相关数据，小编正在努力整理中...&lt;&#x2F;span&gt;
&lt;&#x2F;section&gt;
&lt;!-- &#x2F;无数据提示 结束--&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="6、列表"><a href="#6、列表" class="headerlink" title="6、列表"></a>6、列表</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;article class&#x3D;&quot;comm-course-list&quot;  v-if&#x3D;&quot;data.total &gt; 0&quot;&gt;
             &lt;ul class&#x3D;&quot;of&quot; id&#x3D;&quot;bna&quot;&gt;
               &lt;li v-for&#x3D;&quot;(item,index) in data.items&quot; :key&#x3D;&quot;index&quot;&gt;
                 &lt;div class&#x3D;&quot;cc-l-wrap&quot;&gt;
                   &lt;section class&#x3D;&quot;course-img&quot;&gt;
                     &lt;img :src&#x3D;&quot;item.cover&quot; class&#x3D;&quot;img-responsive&quot; :alt&#x3D;&quot;item.title&quot;&gt;
                     &lt;div class&#x3D;&quot;cc-mask&quot;&gt;
                       &lt;a :href&#x3D;&quot;&#39;&#x2F;course&#x2F;&#39;+item.id&quot; title&#x3D;&quot;开始学习&quot; class&#x3D;&quot;comm-btn c-btn-1&quot;&gt;开始学习&lt;&#x2F;a&gt;
                     &lt;&#x2F;div&gt;
                   &lt;&#x2F;section&gt;
                   &lt;h3 class&#x3D;&quot;hLh30 txtOf mt10&quot;&gt;
                     &lt;a :href&#x3D;&quot;&#39;&#x2F;course&#x2F;&#39;+item.id&quot; :title&#x3D;&quot;item.title&quot; class&#x3D;&quot;course-title fsize18 c-333&quot;&gt;&#123;&#123;item.title&#125;&#125;&lt;&#x2F;a&gt;
                   &lt;&#x2F;h3&gt;
                   &lt;section class&#x3D;&quot;mt10 hLh20 of&quot;&gt;
                     &lt;span v-if&#x3D;&quot;Number(item.price) &#x3D;&#x3D; 0&quot; class&#x3D;&quot;fr jgTag bg-green&quot;&gt;
                       &lt;i class&#x3D;&quot;c-fff fsize12 f-fA&quot;&gt;免费&lt;&#x2F;i&gt;
                     &lt;&#x2F;span&gt;
                     &lt;span class&#x3D;&quot;fl jgAttr c-ccc f-fA&quot;&gt;
                       &lt;i class&#x3D;&quot;c-999 f-fA&quot;&gt;9634人学习&lt;&#x2F;i&gt;
                       |
                       &lt;i class&#x3D;&quot;c-999 f-fA&quot;&gt;9634评论&lt;&#x2F;i&gt;
                     &lt;&#x2F;span&gt;
                   &lt;&#x2F;section&gt;
                 &lt;&#x2F;div&gt;
               &lt;&#x2F;li&gt;

             &lt;&#x2F;ul&gt;
             &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
           &lt;&#x2F;article&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="7、分页页面渲染"><a href="#7、分页页面渲染" class="headerlink" title="7、分页页面渲染"></a>7、分页页面渲染</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 公共分页 开始 --&gt;
          &lt;div&gt;
            &lt;div class&#x3D;&quot;paging&quot;&gt;
              &lt;!-- undisable这个class是否存在，取决于数据属性hasPrevious --&gt;
              &lt;a
                :class&#x3D;&quot;&#123;undisable: !data.hasPrevious&#125;&quot;
                href&#x3D;&quot;#&quot;
                title&#x3D;&quot;首页&quot;
                @click.prevent&#x3D;&quot;gotoPage(1)&quot;&gt;首&lt;&#x2F;a&gt;
              &lt;a
                :class&#x3D;&quot;&#123;undisable: !data.hasPrevious&#125;&quot;
                href&#x3D;&quot;#&quot;
                title&#x3D;&quot;前一页&quot;
                @click.prevent&#x3D;&quot;gotoPage(data.current-1)&quot;&gt;&lt;&lt;&#x2F;a&gt;
              &lt;a
                v-for&#x3D;&quot;page in data.pages&quot;
                :key&#x3D;&quot;page&quot;
                :class&#x3D;&quot;&#123;current: data.current &#x3D;&#x3D; page, undisable: data.current &#x3D;&#x3D; page&#125;&quot;
                :title&#x3D;&quot;&#39;第&#39;+page+&#39;页&#39;&quot;
                href&#x3D;&quot;#&quot;
                @click.prevent&#x3D;&quot;gotoPage(page)&quot;&gt;&#123;&#123; page &#125;&#125;&lt;&#x2F;a&gt;
              &lt;a
                :class&#x3D;&quot;&#123;undisable: !data.hasNext&#125;&quot;
                href&#x3D;&quot;#&quot;
                title&#x3D;&quot;后一页&quot;
                @click.prevent&#x3D;&quot;gotoPage(data.current+1)&quot;&gt;&gt;&lt;&#x2F;a&gt;
              &lt;a
                :class&#x3D;&quot;&#123;undisable: !data.hasNext&#125;&quot;
                href&#x3D;&quot;#&quot;
                title&#x3D;&quot;末页&quot;
                @click.prevent&#x3D;&quot;gotoPage(data.pages)&quot;&gt;末&lt;&#x2F;a&gt;
              &lt;div class&#x3D;&quot;clear&quot;&#x2F;&gt;
            &lt;&#x2F;div&gt;
          &lt;&#x2F;div&gt;
         &lt;!-- 公共分页 结束 --&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>



<h1 id="课程详情功能接口"><a href="#课程详情功能接口" class="headerlink" title="课程详情功能接口"></a>课程详情功能接口</h1><h2 id="Vo"><a href="#Vo" class="headerlink" title="Vo"></a>Vo</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CourseFrontVo</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"课程名称"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"讲师id"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> teacherId<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"一级类别id"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> subjectParentId<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"二级类别id"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> subjectId<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"销量排序"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> buyCountSort<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"最新时间排序"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> gmtCreateSort<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"价格排序"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> priceSort<span class="token punctuation">;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="Controller-1"><a href="#Controller-1" class="headerlink" title="Controller"></a>Controller</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 2.课程详情的方法</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"getFrontCourseInfo/&#123;courseId&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">getFrontCourseInfo</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> courseId<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// 根据课程id，编写SQL语句查询课程信息</span>
    <span class="token class-name">CourseWebVo</span> courseWebVo <span class="token operator">=</span> courseService<span class="token punctuation">.</span><span class="token function">getBaseCourseInfo</span><span class="token punctuation">(</span>courseId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 根据课程id，查询章节和小节</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ChapterVo</span><span class="token punctuation">></span></span> chapterVideoList <span class="token operator">=</span> chapterService<span class="token punctuation">.</span><span class="token function">getAllChapterVideo</span><span class="token punctuation">(</span>courseId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"courseWebVo"</span><span class="token punctuation">,</span>courseWebVo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"chapterVideoList"</span><span class="token punctuation">,</span>chapterVideoList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="Service-2"><a href="#Service-2" class="headerlink" title="Service"></a>Service</h2><p>package com.atguigu.eduservice.service</p>
<div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 根据课程id，编写SQL语句查询课程信息</span>
<span class="token class-name">CourseWebVo</span> <span class="token function">getBaseCourseInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span> courseId<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div>

<h2 id="ServiceImpl"><a href="#ServiceImpl" class="headerlink" title="ServiceImpl"></a>ServiceImpl</h2><p>com.atguigu.eduservice.service.impl</p>
<div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 根据课程id，编写SQL语句查询课程信息</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">CourseWebVo</span> <span class="token function">getBaseCourseInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span> courseId<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> baseMapper<span class="token punctuation">.</span><span class="token function">getBaseCourseInfo</span><span class="token punctuation">(</span>courseId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="Mapper"><a href="#Mapper" class="headerlink" title="Mapper"></a>Mapper</h2><p>package com.atguigu.eduservice.mapper</p>
<div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 根据课程id，编写SQL语句查询课程信息</span>
<span class="token class-name">CourseWebVo</span> <span class="token function">getBaseCourseInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span> courseId<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div>

<h2 id="Xml"><a href="#Xml" class="headerlink" title="Xml"></a>Xml</h2><p>com/atguigu/eduservice/mapper/xml/EduCourseMapper.xml</p>
<div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--根据课程id查询课程前端详情信息--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getBaseCourseInfo<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.atguigu.eduservice.entity.frontvo.CourseWebVo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    SELECT
      ec.`id`,
      ec.`title`,
      ec.`price`,
      ec.`lesson_num` AS lessonNum,
      ec.`cover`,
      ec.`buy_count` AS buyCount,
      ec.`view_count` AS viewCount,
      ecd.`description` AS description,
      et.`id` AS teacherId,
      et.`name` AS teacherName,
      et.`intro` AS intro,
      et.`avatar`AS avatar,
      es1.`id` AS subjectLevelOneId,
      es1.`title` AS subjectLevelOne,
      es2.`id` AS subjectLevelTwoId,
      es2.`title` AS subjectLevelTwo
    FROM
      edu_course ec
      LEFT OUTER JOIN edu_course_description ecd
        ON ec.`id` = ecd.`id`
      LEFT OUTER JOIN edu_teacher et
        ON ec.`teacher_id` = et.`id`
      LEFT OUTER JOIN edu_subject es1
        ON ec.`subject_parent_id` = es1.`id`
      LEFT OUTER JOIN edu_subject es2
        ON ec.`subject_id` = es2.`id`
    WHERE ec.`id` = #&#123;courseId&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h1 id="课程详情功能前端"><a href="#课程详情功能前端" class="headerlink" title="课程详情功能前端"></a>课程详情功能前端</h1><h2 id="1、api-course-js"><a href="#1、api-course-js" class="headerlink" title="1、api/course.js"></a>1、api/course.js</h2><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 根据id查询课程详情信息</span>
<span class="token function">getCourseInfo</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/eduservice/coursefront/getFrontCourseInfo/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>id<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    method<span class="token operator">:</span> <span class="token string">'get'</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="2、pages-course-id-vue"><a href="#2、pages-course-id-vue" class="headerlink" title="2、pages/course/_id.vue"></a>2、pages/course/_id.vue</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue"> &lt;script&gt;
import course from &quot;@&#x2F;api&#x2F;course&quot;
 export default &#123;

   asyncData(&#123; params, error  &#125;)&#123;
     console.log(params.id)
     return course.getCourseInfo(params.id)
      .then(response &#x3D;&gt;&#123;
        console.log(response)
        return&#123;
          courseWebVo: response.data.data.courseWebVo,
          chapterVideoList: response.data.data.chapterVideoList
        &#125;
      &#125;)
   &#125;
   
 &#125;;
 &lt;&#x2F;scrip&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="课程所属分类"><a href="#课程所属分类" class="headerlink" title="课程所属分类"></a>课程所属分类</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- &#x2F;课程详情 开始 --&gt;
     &lt;section class&#x3D;&quot;container&quot;&gt;
       &lt;section class&#x3D;&quot;path-wrap txtOf hLh30&quot;&gt;
         &lt;a href&#x3D;&quot;#&quot; title class&#x3D;&quot;c-999 fsize14&quot;&gt;首页&lt;&#x2F;a&gt;
         \
         &lt;a href&#x3D;&quot;#&quot; title class&#x3D;&quot;c-999 fsize14&quot;&gt;&#123;&#123;courseWebVo.subjectLevelOne&#125;&#125;&lt;&#x2F;a&gt;
         \
         &lt;span class&#x3D;&quot;c-333 fsize14&quot;&gt;&#123;&#123;courseWebVo.subjectLevelTwo&#125;&#125;&lt;&#x2F;span&gt;
       &lt;&#x2F;section&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="课程基本信息"><a href="#课程基本信息" class="headerlink" title="课程基本信息"></a>课程基本信息</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;div&gt;
        &lt;article class&#x3D;&quot;c-v-pic-wrap&quot; style&#x3D;&quot;height: 357px;&quot;&gt;
          &lt;section class&#x3D;&quot;p-h-video-box&quot; id&#x3D;&quot;videoPlay&quot;&gt;
            &lt;img :src&#x3D;&quot;courseWebVo.cover&quot; :alt&#x3D;&quot;courseWebVo.title&quot; class&#x3D;&quot;dis c-v-pic&quot;&gt;
          &lt;&#x2F;section&gt;
        &lt;&#x2F;article&gt;
        &lt;aside class&#x3D;&quot;c-attr-wrap&quot;&gt;
          &lt;section class&#x3D;&quot;ml20 mr15&quot;&gt;
            &lt;h2 class&#x3D;&quot;hLh30 txtOf mt15&quot;&gt;
              &lt;span class&#x3D;&quot;c-fff fsize24&quot;&gt;&#123;&#123;courseWebVo.title&#125;&#125;&lt;&#x2F;span&gt;
            &lt;&#x2F;h2&gt;
            &lt;section class&#x3D;&quot;c-attr-jg&quot;&gt;
              &lt;span class&#x3D;&quot;c-fff&quot;&gt;价格：&lt;&#x2F;span&gt;
              &lt;b class&#x3D;&quot;c-yellow&quot; style&#x3D;&quot;font-size:24px;&quot;&gt;￥&#123;&#123;courseWebVo.price&#125;&#125;&lt;&#x2F;b&gt;
            &lt;&#x2F;section&gt;
            &lt;section class&#x3D;&quot;c-attr-mt c-attr-undis&quot;&gt;
              &lt;span class&#x3D;&quot;c-fff fsize14&quot;&gt;主讲： &#123;&#123;courseWebVo.teacherName&#125;&#125;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;&#x2F;span&gt;
            &lt;&#x2F;section&gt;
            &lt;section class&#x3D;&quot;c-attr-mt of&quot;&gt;
              &lt;span class&#x3D;&quot;ml10 vam&quot;&gt;
                &lt;em class&#x3D;&quot;icon18 scIcon&quot;&gt;&lt;&#x2F;em&gt;
                &lt;a class&#x3D;&quot;c-fff vam&quot; title&#x3D;&quot;收藏&quot; href&#x3D;&quot;#&quot; &gt;收藏&lt;&#x2F;a&gt;
              &lt;&#x2F;span&gt;
            &lt;&#x2F;section&gt;
            &lt;section class&#x3D;&quot;c-attr-mt&quot;&gt;
              &lt;a href&#x3D;&quot;#&quot; title&#x3D;&quot;立即观看&quot; class&#x3D;&quot;comm-btn c-btn-3&quot;&gt;立即观看&lt;&#x2F;a&gt;
            &lt;&#x2F;section&gt;
          &lt;&#x2F;section&gt;
        &lt;&#x2F;aside&gt;
        &lt;aside class&#x3D;&quot;thr-attr-box&quot;&gt;
          &lt;ol class&#x3D;&quot;thr-attr-ol clearfix&quot;&gt;
            &lt;li&gt;
              &lt;p&gt;&amp;nbsp;&lt;&#x2F;p&gt;
              &lt;aside&gt;
                &lt;span class&#x3D;&quot;c-fff f-fM&quot;&gt;购买数&lt;&#x2F;span&gt;
                &lt;br&gt;
                &lt;h6 class&#x3D;&quot;c-fff f-fM mt10&quot;&gt;&#123;&#123;courseWebVo.buyCount&#125;&#125;&#125;&lt;&#x2F;h6&gt;
              &lt;&#x2F;aside&gt;
            &lt;&#x2F;li&gt;
            &lt;li&gt;
              &lt;p&gt;&amp;nbsp;&lt;&#x2F;p&gt;
              &lt;aside&gt;
                &lt;span class&#x3D;&quot;c-fff f-fM&quot;&gt;课时数&lt;&#x2F;span&gt;
                &lt;br&gt;
                &lt;h6 class&#x3D;&quot;c-fff f-fM mt10&quot;&gt;&#123;&#123;courseWebVo.lessonNum&#125;&#125;&lt;&#x2F;h6&gt;
              &lt;&#x2F;aside&gt;
            &lt;&#x2F;li&gt;
            &lt;li&gt;
              &lt;p&gt;&amp;nbsp;&lt;&#x2F;p&gt;
              &lt;aside&gt;
                &lt;span class&#x3D;&quot;c-fff f-fM&quot;&gt;浏览数&lt;&#x2F;span&gt;
                &lt;br&gt;
                &lt;h6 class&#x3D;&quot;c-fff f-fM mt10&quot;&gt;&#123;&#123;courseWebVo.viewCount&#125;&#125;&lt;&#x2F;h6&gt;
              &lt;&#x2F;aside&gt;
            &lt;&#x2F;li&gt;
          &lt;&#x2F;ol&gt;
        &lt;&#x2F;aside&gt;
        &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
      &lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="课程详情介绍"><a href="#课程详情介绍" class="headerlink" title="课程详情介绍"></a>课程详情介绍</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;div&gt;
                  &lt;h6 class&#x3D;&quot;c-i-content c-infor-title&quot;&gt;
                    &lt;span&gt;课程介绍&lt;&#x2F;span&gt;
                  &lt;&#x2F;h6&gt;
                  &lt;div class&#x3D;&quot;course-txt-body-wrap&quot;&gt;
                    &lt;section class&#x3D;&quot;course-txt-body&quot;&gt;
                      &lt;p v-html&#x3D;&quot;courseWebVo.description&quot; &gt;&#123;&#123;courseWebVo.description&#125;&#125;&lt;&#x2F;p&gt;
                    &lt;&#x2F;section&gt;
                  &lt;&#x2F;div&gt;
                &lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="课程大纲"><a href="#课程大纲" class="headerlink" title="课程大纲"></a>课程大纲</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- &#x2F;课程介绍 --&gt;
                 &lt;div class&#x3D;&quot;mt50&quot;&gt;
                   &lt;h6 class&#x3D;&quot;c-g-content c-infor-title&quot;&gt;
                     &lt;span&gt;课程大纲&lt;&#x2F;span&gt;
                   &lt;&#x2F;h6&gt;
                   &lt;section class&#x3D;&quot;mt20&quot;&gt;
                     &lt;div class&#x3D;&quot;lh-menu-wrap&quot;&gt;
                       &lt;menu id&#x3D;&quot;lh-menu&quot; class&#x3D;&quot;lh-menu mt10 mr10&quot;&gt;
                         &lt;ul&gt;
                           &lt;!-- 文件目录 --&gt;
                           &lt;li class&#x3D;&quot;lh-menu-stair&quot; v-for&#x3D;&quot;chapter in chapterVideoList&quot; :key&#x3D;&quot;chapter.id&quot;&gt;
                             &lt;a href&#x3D;&quot;javascript: void(0)&quot; :title&#x3D;&quot;chapter.title&quot; class&#x3D;&quot;current-1&quot;&gt;
                               &lt;em class&#x3D;&quot;lh-menu-i-1 icon18 mr10&quot;&gt;&lt;&#x2F;em&gt;&#123;&#123;chapter.title&#125;&#125;
                             &lt;&#x2F;a&gt;
                             &lt;ol class&#x3D;&quot;lh-menu-ol&quot; style&#x3D;&quot;display: block;&quot;&gt;
                               &lt;li class&#x3D;&quot;lh-menu-second ml30&quot; v-for&#x3D;&quot;video in chapter.children&quot; :key&#x3D;&quot;video.id&quot;&gt;
                                 &lt;a href&#x3D;&quot;#&quot; title&gt;
                                   &lt;span class&#x3D;&quot;fr&quot; v-if&#x3D;&quot;Number(courseWebVo.price) &#x3D;&#x3D; 0&quot;&gt;
                                     &lt;i class&#x3D;&quot;free-icon vam mr10&quot; &gt;免费试听&lt;&#x2F;i&gt;
                                   &lt;&#x2F;span&gt;
                                   &lt;em class&#x3D;&quot;lh-menu-i-2 icon16 mr5&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;&#123;&#123;video.title&#125;&#125;
                                 &lt;&#x2F;a&gt;
                               &lt;&#x2F;li&gt;
                               
                             &lt;&#x2F;ol&gt;
                           &lt;&#x2F;li&gt;
                         &lt;&#x2F;ul&gt;
                       &lt;&#x2F;menu&gt;
                     &lt;&#x2F;div&gt;
                   &lt;&#x2F;section&gt;
                 &lt;&#x2F;div&gt;
                 &lt;!-- &#x2F;课程大纲 --&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="主讲讲师"><a href="#主讲讲师" class="headerlink" title="主讲讲师"></a>主讲讲师</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;div class&#x3D;&quot;i-box&quot;&gt;
             &lt;div&gt;
               &lt;section class&#x3D;&quot;c-infor-tabTitle c-tab-title&quot;&gt;
                 &lt;a title href&#x3D;&quot;javascript:void(0)&quot;&gt;主讲讲师&lt;&#x2F;a&gt;
               &lt;&#x2F;section&gt;
               &lt;section class&#x3D;&quot;stud-act-list&quot;&gt;
                 &lt;ul style&#x3D;&quot;height: auto;&quot;&gt;
                   &lt;li&gt;
                     &lt;div class&#x3D;&quot;u-face&quot;&gt;
                       &lt;a href&#x3D;&quot;#&quot;&gt;
                         &lt;img :src&#x3D;&quot;courseWebVo.avatar&quot; width&#x3D;&quot;50&quot; height&#x3D;&quot;50&quot; alt&gt;
                       &lt;&#x2F;a&gt;
                     &lt;&#x2F;div&gt;
                     &lt;section class&#x3D;&quot;hLh30 txtOf&quot;&gt;
                       &lt;a class&#x3D;&quot;c-333 fsize16 fl&quot; href&#x3D;&quot;#&quot;&gt;&#123;&#123;courseWebVo.teacherName&#125;&#125;&lt;&#x2F;a&gt;
                     &lt;&#x2F;section&gt;
                     &lt;section class&#x3D;&quot;hLh20 txtOf&quot;&gt;
                       &lt;span class&#x3D;&quot;c-999&quot;&gt;&#123;&#123;courseWebVo.intro&#125;&#125;&lt;&#x2F;span&gt;
                     &lt;&#x2F;section&gt;
                   &lt;&#x2F;li&gt;
                 &lt;&#x2F;ul&gt;
               &lt;&#x2F;section&gt;
             &lt;&#x2F;div&gt;
           &lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="完整页面-1"><a href="#完整页面-1" class="headerlink" title="完整页面"></a>完整页面</h2><div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
   &lt;div id&#x3D;&quot;aCoursesList&quot; class&#x3D;&quot;bg-fa of&quot;&gt;
     &lt;!-- &#x2F;课程详情 开始 --&gt;
     &lt;section class&#x3D;&quot;container&quot;&gt;
       &lt;section class&#x3D;&quot;path-wrap txtOf hLh30&quot;&gt;
         &lt;a href&#x3D;&quot;#&quot; title class&#x3D;&quot;c-999 fsize14&quot;&gt;首页&lt;&#x2F;a&gt;
         \
         &lt;a href&#x3D;&quot;#&quot; title class&#x3D;&quot;c-999 fsize14&quot;&gt;&#123;&#123;courseWebVo.subjectLevelOne&#125;&#125;&lt;&#x2F;a&gt;
         \
         &lt;span class&#x3D;&quot;c-333 fsize14&quot;&gt;&#123;&#123;courseWebVo.subjectLevelTwo&#125;&#125;&lt;&#x2F;span&gt;
       &lt;&#x2F;section&gt;
       &lt;div&gt;
         &lt;article class&#x3D;&quot;c-v-pic-wrap&quot; style&#x3D;&quot;height: 357px;&quot;&gt;
           &lt;section class&#x3D;&quot;p-h-video-box&quot; id&#x3D;&quot;videoPlay&quot;&gt;
             &lt;img :src&#x3D;&quot;courseWebVo.cover&quot; :alt&#x3D;&quot;courseWebVo.title&quot; class&#x3D;&quot;dis c-v-pic&quot;&gt;
           &lt;&#x2F;section&gt;
         &lt;&#x2F;article&gt;
         &lt;aside class&#x3D;&quot;c-attr-wrap&quot;&gt;
           &lt;section class&#x3D;&quot;ml20 mr15&quot;&gt;
             &lt;h2 class&#x3D;&quot;hLh30 txtOf mt15&quot;&gt;
               &lt;span class&#x3D;&quot;c-fff fsize24&quot;&gt;&#123;&#123;courseWebVo.title&#125;&#125;&lt;&#x2F;span&gt;
             &lt;&#x2F;h2&gt;
             &lt;section class&#x3D;&quot;c-attr-jg&quot;&gt;
               &lt;span class&#x3D;&quot;c-fff&quot;&gt;价格：&lt;&#x2F;span&gt;
               &lt;b class&#x3D;&quot;c-yellow&quot; style&#x3D;&quot;font-size:24px;&quot;&gt;￥&#123;&#123;courseWebVo.price&#125;&#125;&lt;&#x2F;b&gt;
             &lt;&#x2F;section&gt;
             &lt;section class&#x3D;&quot;c-attr-mt c-attr-undis&quot;&gt;
               &lt;span class&#x3D;&quot;c-fff fsize14&quot;&gt;主讲： &#123;&#123;courseWebVo.teacherName&#125;&#125;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;&#x2F;span&gt;
             &lt;&#x2F;section&gt;
             &lt;section class&#x3D;&quot;c-attr-mt of&quot;&gt;
               &lt;span class&#x3D;&quot;ml10 vam&quot;&gt;
                 &lt;em class&#x3D;&quot;icon18 scIcon&quot;&gt;&lt;&#x2F;em&gt;
                 &lt;a class&#x3D;&quot;c-fff vam&quot; title&#x3D;&quot;收藏&quot; href&#x3D;&quot;#&quot; &gt;收藏&lt;&#x2F;a&gt;
               &lt;&#x2F;span&gt;
             &lt;&#x2F;section&gt;
             &lt;section class&#x3D;&quot;c-attr-mt&quot;&gt;
               &lt;a href&#x3D;&quot;#&quot; title&#x3D;&quot;立即观看&quot; class&#x3D;&quot;comm-btn c-btn-3&quot;&gt;立即观看&lt;&#x2F;a&gt;
             &lt;&#x2F;section&gt;
           &lt;&#x2F;section&gt;
         &lt;&#x2F;aside&gt;
         &lt;aside class&#x3D;&quot;thr-attr-box&quot;&gt;
           &lt;ol class&#x3D;&quot;thr-attr-ol clearfix&quot;&gt;
             &lt;li&gt;
               &lt;p&gt;&amp;nbsp;&lt;&#x2F;p&gt;
               &lt;aside&gt;
                 &lt;span class&#x3D;&quot;c-fff f-fM&quot;&gt;购买数&lt;&#x2F;span&gt;
                 &lt;br&gt;
                 &lt;h6 class&#x3D;&quot;c-fff f-fM mt10&quot;&gt;&#123;&#123;courseWebVo.buyCount&#125;&#125;&#125;&lt;&#x2F;h6&gt;
               &lt;&#x2F;aside&gt;
             &lt;&#x2F;li&gt;
             &lt;li&gt;
               &lt;p&gt;&amp;nbsp;&lt;&#x2F;p&gt;
               &lt;aside&gt;
                 &lt;span class&#x3D;&quot;c-fff f-fM&quot;&gt;课时数&lt;&#x2F;span&gt;
                 &lt;br&gt;
                 &lt;h6 class&#x3D;&quot;c-fff f-fM mt10&quot;&gt;&#123;&#123;courseWebVo.lessonNum&#125;&#125;&lt;&#x2F;h6&gt;
               &lt;&#x2F;aside&gt;
             &lt;&#x2F;li&gt;
             &lt;li&gt;
               &lt;p&gt;&amp;nbsp;&lt;&#x2F;p&gt;
               &lt;aside&gt;
                 &lt;span class&#x3D;&quot;c-fff f-fM&quot;&gt;浏览数&lt;&#x2F;span&gt;
                 &lt;br&gt;
                 &lt;h6 class&#x3D;&quot;c-fff f-fM mt10&quot;&gt;&#123;&#123;courseWebVo.viewCount&#125;&#125;&lt;&#x2F;h6&gt;
               &lt;&#x2F;aside&gt;
             &lt;&#x2F;li&gt;
           &lt;&#x2F;ol&gt;
         &lt;&#x2F;aside&gt;
         &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
       &lt;&#x2F;div&gt;
       &lt;!-- &#x2F;课程封面介绍 --&gt;
       &lt;div class&#x3D;&quot;mt20 c-infor-box&quot;&gt;
         &lt;article class&#x3D;&quot;fl col-7&quot;&gt;
           &lt;section class&#x3D;&quot;mr30&quot;&gt;
             &lt;div class&#x3D;&quot;i-box&quot;&gt;
               &lt;div&gt;
                 &lt;section id&#x3D;&quot;c-i-tabTitle&quot; class&#x3D;&quot;c-infor-tabTitle c-tab-title&quot;&gt;
                   &lt;a name&#x3D;&quot;c-i&quot; class&#x3D;&quot;current&quot; title&#x3D;&quot;课程详情&quot;&gt;课程详情&lt;&#x2F;a&gt;
                 &lt;&#x2F;section&gt;
               &lt;&#x2F;div&gt;
               &lt;article class&#x3D;&quot;ml10 mr10 pt20&quot;&gt;
                 &lt;div&gt;
                   &lt;h6 class&#x3D;&quot;c-i-content c-infor-title&quot;&gt;
                     &lt;span&gt;课程介绍&lt;&#x2F;span&gt;
                   &lt;&#x2F;h6&gt;
                   &lt;div class&#x3D;&quot;course-txt-body-wrap&quot;&gt;
                     &lt;section class&#x3D;&quot;course-txt-body&quot;&gt;
                       &lt;p v-html&#x3D;&quot;courseWebVo.description&quot; &gt;&#123;&#123;courseWebVo.description&#125;&#125;&lt;&#x2F;p&gt;
                     &lt;&#x2F;section&gt;
                   &lt;&#x2F;div&gt;
                 &lt;&#x2F;div&gt;
                 &lt;!-- &#x2F;课程介绍 --&gt;
                 &lt;div class&#x3D;&quot;mt50&quot;&gt;
                   &lt;h6 class&#x3D;&quot;c-g-content c-infor-title&quot;&gt;
                     &lt;span&gt;课程大纲&lt;&#x2F;span&gt;
                   &lt;&#x2F;h6&gt;
                   &lt;section class&#x3D;&quot;mt20&quot;&gt;
                     &lt;div class&#x3D;&quot;lh-menu-wrap&quot;&gt;
                       &lt;menu id&#x3D;&quot;lh-menu&quot; class&#x3D;&quot;lh-menu mt10 mr10&quot;&gt;
                         &lt;ul&gt;
                           &lt;!-- 文件目录 --&gt;
                           &lt;li class&#x3D;&quot;lh-menu-stair&quot; v-for&#x3D;&quot;chapter in chapterVideoList&quot; :key&#x3D;&quot;chapter.id&quot;&gt;
                             &lt;a href&#x3D;&quot;javascript: void(0)&quot; :title&#x3D;&quot;chapter.title&quot; class&#x3D;&quot;current-1&quot;&gt;
                               &lt;em class&#x3D;&quot;lh-menu-i-1 icon18 mr10&quot;&gt;&lt;&#x2F;em&gt;&#123;&#123;chapter.title&#125;&#125;
                             &lt;&#x2F;a&gt;
                             &lt;ol class&#x3D;&quot;lh-menu-ol&quot; style&#x3D;&quot;display: block;&quot;&gt;
                               &lt;li class&#x3D;&quot;lh-menu-second ml30&quot; v-for&#x3D;&quot;video in chapter.children&quot; :key&#x3D;&quot;video.id&quot;&gt;
                                 &lt;a href&#x3D;&quot;#&quot; title&gt;
                                   &lt;span class&#x3D;&quot;fr&quot; v-if&#x3D;&quot;Number(courseWebVo.price) &#x3D;&#x3D; 0&quot;&gt;
                                     &lt;i class&#x3D;&quot;free-icon vam mr10&quot; &gt;免费试听&lt;&#x2F;i&gt;
                                   &lt;&#x2F;span&gt;
                                   &lt;em class&#x3D;&quot;lh-menu-i-2 icon16 mr5&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;&#123;&#123;video.title&#125;&#125;
                                 &lt;&#x2F;a&gt;
                               &lt;&#x2F;li&gt;
                               
                             &lt;&#x2F;ol&gt;
                           &lt;&#x2F;li&gt;
                         &lt;&#x2F;ul&gt;
                       &lt;&#x2F;menu&gt;
                     &lt;&#x2F;div&gt;
                   &lt;&#x2F;section&gt;
                 &lt;&#x2F;div&gt;
                 &lt;!-- &#x2F;课程大纲 --&gt;
               &lt;&#x2F;article&gt;
             &lt;&#x2F;div&gt;
           &lt;&#x2F;section&gt;
         &lt;&#x2F;article&gt;
         &lt;aside class&#x3D;&quot;fl col-3&quot;&gt;
           &lt;div class&#x3D;&quot;i-box&quot;&gt;
             &lt;div&gt;
               &lt;section class&#x3D;&quot;c-infor-tabTitle c-tab-title&quot;&gt;
                 &lt;a title href&#x3D;&quot;javascript:void(0)&quot;&gt;主讲讲师&lt;&#x2F;a&gt;
               &lt;&#x2F;section&gt;
               &lt;section class&#x3D;&quot;stud-act-list&quot;&gt;
                 &lt;ul style&#x3D;&quot;height: auto;&quot;&gt;
                   &lt;li&gt;
                     &lt;div class&#x3D;&quot;u-face&quot;&gt;
                       &lt;a href&#x3D;&quot;#&quot;&gt;
                         &lt;img :src&#x3D;&quot;courseWebVo.avatar&quot; width&#x3D;&quot;50&quot; height&#x3D;&quot;50&quot; alt&gt;
                       &lt;&#x2F;a&gt;
                     &lt;&#x2F;div&gt;
                     &lt;section class&#x3D;&quot;hLh30 txtOf&quot;&gt;
                       &lt;a class&#x3D;&quot;c-333 fsize16 fl&quot; href&#x3D;&quot;#&quot;&gt;&#123;&#123;courseWebVo.teacherName&#125;&#125;&lt;&#x2F;a&gt;
                     &lt;&#x2F;section&gt;
                     &lt;section class&#x3D;&quot;hLh20 txtOf&quot;&gt;
                       &lt;span class&#x3D;&quot;c-999&quot;&gt;&#123;&#123;courseWebVo.intro&#125;&#125;&lt;&#x2F;span&gt;
                     &lt;&#x2F;section&gt;
                   &lt;&#x2F;li&gt;
                 &lt;&#x2F;ul&gt;
               &lt;&#x2F;section&gt;
             &lt;&#x2F;div&gt;
           &lt;&#x2F;div&gt;
         &lt;&#x2F;aside&gt;
         &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;
       &lt;&#x2F;div&gt;
     &lt;&#x2F;section&gt;
     &lt;!-- &#x2F;课程详情 结束 --&gt;
   &lt;&#x2F;div&gt;
 &lt;&#x2F;template&gt;
 &lt;script&gt;
import course from &quot;@&#x2F;api&#x2F;course&quot;
 export default &#123;

   asyncData(&#123; params, error  &#125;)&#123;
     console.log(params.id)
     return course.getCourseInfo(params.id)
      .then(response &#x3D;&gt;&#123;
        console.log(response)
        return&#123;
          courseWebVo: response.data.data.courseWebVo,
          chapterVideoList: response.data.data.chapterVideoList
        &#125;
      &#125;)
   &#125;
   
 &#125;;
 &lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h1 id="整合阿里云视频播放器测试"><a href="#整合阿里云视频播放器测试" class="headerlink" title="整合阿里云视频播放器测试"></a>整合阿里云视频播放器测试</h1><h2 id="视频地址播放"><a href="#视频地址播放" class="headerlink" title="视频地址播放"></a>视频地址播放</h2><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://g.alicdn.com/de/prismplayer/2.8.1/skins/default/aliplayer-min.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prism-player<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>J_prismPlayer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
            <span class="token keyword">var</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Aliplayer</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
                id<span class="token operator">:</span> <span class="token string">'J_prismPlayer'</span><span class="token punctuation">,</span>
                width<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
                autoplay<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                cover<span class="token operator">:</span> <span class="token string">'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png'</span><span class="token punctuation">,</span>  
                <span class="token comment">//播放配置</span>
                <span class="token comment">//播放方式一：支持播放地址播放,此播放优先级最高，此种方式不能播放加密视频</span>
                source <span class="token operator">:</span> <span class="token string">'https://outin-e7915c6967b411eca96500163e1c60dc.oss-cn-shanghai.aliyuncs.com/sv/12b862d3-17e007b353b/12b862d3-17e007b353b.mp4?Expires=1641138735&amp;OSSAccessKeyId=LTAIxSaOfEzCnBOj&amp;Signature=LZvaSss9BmRFXSrXL6DMmhmi%2BiQ%3D'</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">player</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
               
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="凭证播放"><a href="#凭证播放" class="headerlink" title="凭证播放"></a>凭证播放</h2><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://g.alicdn.com/de/prismplayer/2.8.1/skins/default/aliplayer-min.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prism-player<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>J_prismPlayer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
            <span class="token keyword">var</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Aliplayer</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
                id<span class="token operator">:</span> <span class="token string">'J_prismPlayer'</span><span class="token punctuation">,</span>
                width<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
                autoplay<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                cover<span class="token operator">:</span> <span class="token string">'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png'</span><span class="token punctuation">,</span>  
                <span class="token comment">//播放配置</span>
                encryptType<span class="token operator">:</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token comment">//如果播放加密视频，则需设置encryptType=1，非加密视频无需设置此项</span>
                vid<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>		<span class="token comment">// 视频id</span>
                playauth <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>	<span class="token comment">// 授权信息</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">player</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
               
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h1 id="整合阿里云视频播放器"><a href="#整合阿里云视频播放器" class="headerlink" title="整合阿里云视频播放器"></a>整合阿里云视频播放器</h1><h2 id="一、后端获取播放凭证"><a href="#一、后端获取播放凭证" class="headerlink" title="一、后端获取播放凭证"></a>一、后端获取播放凭证</h2><h3 id="1、VideoController"><a href="#1、VideoController" class="headerlink" title="1、VideoController"></a>1、VideoController</h3><p>service-vod微服务中创建 VideoController.java</p>
<p>controller中创建 getVideoAuth接口方法</p>
<div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 根据视频id获取凭证</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"getVideoAuth/&#123;id&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">getVideoAuth</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 创建初始化对象</span>
        <span class="token class-name">DefaultAcsClient</span> client <span class="token operator">=</span> <span class="token class-name">InitVodClient</span><span class="token punctuation">.</span><span class="token function">initVodClient</span><span class="token punctuation">(</span><span class="token class-name">ConstantVodUtils</span><span class="token punctuation">.</span>ACCESS_KEY_ID<span class="token punctuation">,</span> <span class="token class-name">ConstantVodUtils</span><span class="token punctuation">.</span>ACCESS_KEY_SECRET<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建获取凭证的request和response对象</span>
        <span class="token class-name">GetVideoPlayAuthRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetVideoPlayAuthRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 设置视频id</span>
        request<span class="token punctuation">.</span><span class="token function">setVideoId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 调用初始化对象获取凭证</span>
        <span class="token class-name">GetVideoPlayAuthResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">getAcsResponse</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> playAuth <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getPlayAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"playAuth"</span><span class="token punctuation">,</span>playAuth<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClientException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">GuliException</span><span class="token punctuation">(</span><span class="token number">20001</span><span class="token punctuation">,</span><span class="token string">"获取凭证失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h2 id="二、前端播放器整合"><a href="#二、前端播放器整合" class="headerlink" title="二、前端播放器整合"></a>二、前端播放器整合</h2><h3 id="1、点击播放超链接"><a href="#1、点击播放超链接" class="headerlink" title="1、点击播放超链接"></a>1、点击播放超链接</h3><p>course/_id.vue</p>
<p>修改课时目录超链接</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;a :href&#x3D;&quot;&#39;&#x2F;player&#x2F;&#39;+video.videoSourceId&quot; :title&#x3D;&quot;video.title&quot; target&#x3D;&quot;_blank&quot;&gt;
    &lt;span class&#x3D;&quot;fr&quot; v-if&#x3D;&quot;Number(courseWebVo.price) &#x3D;&#x3D; 0&quot;&gt;
        &lt;i class&#x3D;&quot;free-icon vam mr10&quot; &gt;免费试听&lt;&#x2F;i&gt;
    &lt;&#x2F;span&gt;
    &lt;em class&#x3D;&quot;lh-menu-i-2 icon16 mr5&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;&#123;&#123;video.title&#125;&#125;
&lt;&#x2F;a&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h3 id="2、layout"><a href="#2、layout" class="headerlink" title="2、layout"></a>2、layout</h3><p>因为播放器的布局和其他页面的基本布局不一致，因此创建新的布局容器 layouts/video.vue</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;guli-player&quot;&gt;
    &lt;div class&#x3D;&quot;head&quot;&gt;
      &lt;a href&#x3D;&quot;#&quot; title&#x3D;&quot;谷粒学院&quot;&gt;
        &lt;img class&#x3D;&quot;logo&quot; src&#x3D;&quot;~&#x2F;assets&#x2F;img&#x2F;logo.png&quot; lt&#x3D;&quot;谷粒学院&quot;&gt;
    &lt;&#x2F;a&gt;&lt;&#x2F;div&gt;
    &lt;div class&#x3D;&quot;body&quot;&gt;
      &lt;div class&#x3D;&quot;content&quot;&gt;&lt;nuxt&#x2F;&gt;&lt;&#x2F;div&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;
&lt;script&gt;
export default &#123;&#125;
&lt;&#x2F;script&gt;
&lt;style&gt;
html,body&#123;
  height:100%;
&#125;
&lt;&#x2F;style&gt;
&lt;style scoped&gt;
.head &#123;
  height: 50px;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
&#125;
.head .logo&#123;
  height: 50px;
  margin-left: 10px;
&#125;
.body &#123;
  position: absolute;
  top: 50px;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
&#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h3 id="3、api"><a href="#3、api" class="headerlink" title="3、api"></a>3、api</h3><p>创建api模块 api/vod.js，从后端获取播放凭证</p>
<div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">getPlayAuth</span><span class="token punctuation">(</span><span class="token parameter">vid</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/eduvod/video/getVideoAuth/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>vid<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      method<span class="token operator">:</span> <span class="token string">'get'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h3 id="4、播放组件相关文档"><a href="#4、播放组件相关文档" class="headerlink" title="4、播放组件相关文档"></a>4、播放组件相关文档</h3><p><strong>集成文档：</strong><a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/51991.html?spm=a2c4g.11186623.2.39.478e192b8VSdEn">https://help.aliyun.com/document_detail/51991.html?spm=a2c4g.11186623.2.39.478e192b8VSdEn</a></p>
<p><strong>在线配置：</strong><a target="_blank" rel="noopener" href="https://player.alicdn.com/aliplayer/setting/setting.html">https://player.alicdn.com/aliplayer/setting/setting.html</a></p>
<p><strong>功能展示：</strong><a target="_blank" rel="noopener" href="https://player.alicdn.com/aliplayer/presentation/index.html">https://player.alicdn.com/aliplayer/presentation/index.html</a></p>
<h3 id="5、创建播放页面"><a href="#5、创建播放页面" class="headerlink" title="5、创建播放页面"></a>5、创建播放页面</h3><p>创建 pages/player/_vid.vue</p>
<p>（1）引入播放器js库和css样式</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- 阿里云视频播放器样式 --&gt;
    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;g.alicdn.com&#x2F;de&#x2F;prismplayer&#x2F;2.8.1&#x2F;skins&#x2F;default&#x2F;aliplayer-min.css&quot; &gt;
    &lt;!-- 阿里云视频播放器脚本 --&gt;
    &lt;script charset&#x3D;&quot;utf-8&quot; type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;https:&#x2F;&#x2F;g.alicdn.com&#x2F;de&#x2F;prismplayer&#x2F;2.8.1&#x2F;aliplayer-min.js&quot; &#x2F;&gt;
    &lt;!-- 定义播放器dom --&gt;
    &lt;div id&#x3D;&quot;J_prismPlayer&quot; class&#x3D;&quot;prism-player&quot; &#x2F;&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<p>（2）获取播放凭证</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script&gt;
import vod from &#39;@&#x2F;api&#x2F;vod&#39;
export default &#123;
    layout: &#39;video&#39;,&#x2F;&#x2F;应用video布局
    asyncData(&#123; params, error &#125;) &#123;
        return vod.getPlayAuth(params.vid)
            .then(response &#x3D;&gt;&#123;
                console.log(response.data.data.playAuth)
                return&#123;
                    playAuth: response.data.data.playAuth,
                    vid:params.vid
                &#125;
            &#125;)
    &#125;,
    
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<p>（3）创建播放器</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&#x2F;**
 * 页面渲染完成时：此时js脚本已加载，Aliplayer已定义，可以使用
 * 如果在created生命周期函数中使用，Aliplayer is not defined错误
 *&#x2F;
&#x2F;&#x2F; 在页面渲染之后执行
mounted() &#123;
    new Aliplayer(&#123;
        id: &#39;J_prismPlayer&#39;,
        vid: this.vid, &#x2F;&#x2F; 视频id
        playauth: this.playAuth, &#x2F;&#x2F; 播放凭证
        encryptType: &#39;1&#39;, &#x2F;&#x2F; 如果播放加密视频，则需设置encryptType&#x3D;1，非加密视频无需设置此项
        width: &#39;100%&#39;,
        height: &#39;500px&#39;
    &#125;, function(player) &#123;
        &#x2F;&#x2F;console.log(&#39;播放器创建成功&#39;)
    &#125;)
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<p>（4）其他常见的可选配置</p>
<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">    &#x2F;&#x2F; 以下可选设置
    cover: &#39;http:&#x2F;&#x2F;guli.shop&#x2F;photo&#x2F;banner&#x2F;1525939573202.jpg&#39;, &#x2F;&#x2F; 封面
    qualitySort: &#39;asc&#39;, &#x2F;&#x2F; 清晰度排序
    mediaType: &#39;video&#39;, &#x2F;&#x2F; 返回音频还是视频
    autoplay: false, &#x2F;&#x2F; 自动播放
    isLive: false, &#x2F;&#x2F; 直播
    rePlay: false, &#x2F;&#x2F; 循环播放
    preload: true,
    controlBarVisibility: &#39;hover&#39;, &#x2F;&#x2F; 控制条的显示方式：鼠标悬停
    useH5Prism: true, &#x2F;&#x2F; 播放器类型：html5
&#125;, function(player) &#123;
    &#x2F;&#x2F;console.log(&#39;播放器创建成功&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h3 id="6、加入播放组件"><a href="#6、加入播放组件" class="headerlink" title="6、加入播放组件"></a>6、加入播放组件</h3><p><strong>功能展示：</strong><a target="_blank" rel="noopener" href="https://player.alicdn.com/aliplayer/presentation/index.html">https://player.alicdn.com/aliplayer/presentation/index.html</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/myBlog/categories/%E9%A1%B9%E7%9B%AE-%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2-%E7%AC%94%E8%AE%B0/">项目|谷粒学院|笔记</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/myBlog/tags/project/">project</a>
                    
                  </div>
                
              </div>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/myBlog/day13-%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95/">
                        <span class="hidden-mobile">day13-微信登录</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://github.com" target="_blank" rel="nofollow noopener"><span>GitHub</span></a> <i class="iconfont icon-love"></i> <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
  
  <div>
      <span id="timeDate">载入天数...</span>
      <span id="times">载入时分秒...</span>
      <script>
      var now = new Date();
      function createtime(){
          var grt= new Date("11/11/2021 00:00:00");//此处修改你的建站时间或者网站上线时间
          now.setTime(now.getTime()+250);
          days = (now - grt ) / 1000 / 60 / 60 / 24;
          dnum = Math.floor(days);
          hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
          hnum = Math.floor(hours);
          if(String(hnum).length ==1 ){
              hnum = "0" + hnum;
          }
          minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
          mnum = Math.floor(minutes);
          if(String(mnum).length ==1 ){
                    mnum = "0" + mnum;
          }
          seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
          snum = Math.round(seconds);
          if(String(snum).length ==1 ){
                    snum = "0" + snum;
          }
          document.getElementById("timeDate").innerHTML = "本站安全运行&nbsp"+dnum+"&nbsp天";
          document.getElementById("times").innerHTML = hnum + "&nbsp小时&nbsp" + mnum + "&nbsp分&nbsp" + snum + "&nbsp秒";
      }
      setInterval("createtime()",250);
      </script>
    </div>
  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/myBlog/js/events.js" ></script>
<script  src="/myBlog/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/myBlog/js/local-search.js" ></script>



  
    <script  src="/myBlog/js/img-lazyload.js" ></script>
  



  
    
  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/myBlog/js/boot.js" ></script>


</body>
</html>
